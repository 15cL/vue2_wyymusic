"use strict";(self["webpackChunkvue2_wyymusic"]=self["webpackChunkvue2_wyymusic"]||[]).push([[827],{8167:function(t,s,a){a.d(s,{A:function(){return m}});var i=function(){var t=this,s=t._self._c;return s("div",{class:[t.colorY?"active":"","comment_list"]},[s("div",{staticClass:"content"},[s("ul",t._l(t.comments,(function(a){return s("li",{key:a.commentId},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"comment"},[s("div",{staticClass:"up"},[s("div",{staticClass:"user"},[s("div",{staticClass:"name"},[s("div",{staticClass:"nickname"},[t._v(t._s(a.user.nickname))]),a.user.vipRights?.associator?.iconUrl?s("div",{staticClass:"icon"},[t._v("  "),s("img",{attrs:{src:a.user.vipRights?.associator?.iconUrl,alt:""}})]):t._e()]),s("div",{staticClass:"time"},[t._v(" "+t._s(t.fomateDate(a.time,!0))+" ")])]),s("div",{staticClass:"zan"},[s("span",{staticClass:"num"},[t._v(t._s(a.likedCount))]),s("span",{staticClass:"iconfont icon-zan zanicon"})])]),a.beReplied.length?s("div",{staticClass:"downRe down"},[s("div",{staticClass:"re"},[t._v(" 回复 "),s("span",[t._v("@"+t._s(a.beReplied[0].user.nickname)+"： ")]),t._v(" "+t._s(a.content)+" ")]),s("div",{staticClass:"origin"},[t._v(" @"+t._s(a.beReplied[0].user.nickname)+t._s(a.beReplied[0].content)+" ")])]):s("div",{staticClass:"down"},[t._v(" "+t._s(a.content)+" ")])])])})),0)])])},n=[],e=a(6925),l={props:{comments:{type:Array},colorY:{type:Boolean,default:!1}},methods:{fomateDate(t,s){return(0,e.pp)(t,s)}}},o=l,c=a(1656),r=(0,c.A)(o,i,n,!1,null,"fdae43be",null),m=r.exports},938:function(t,s,a){a.d(s,{A:function(){return u}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"list"},[t.must?s("ul",{staticClass:"content"},[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:function(s){return t.onLoad(t.Idkey)}},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.songs,(function(a,i){return s("li",{key:i,on:{click:function(s){t.toPlay(a.id,a.album?.picUrl,a.name,t.artistsFilter(a.artists))}}},[s("div",{staticClass:"left"},[s("div",{staticClass:"name",style:t.active?"color:#507daf":""},[t._v(" "+t._s(a.name)+" ")]),s("div",{staticClass:"art"},[s("span",{staticClass:"iconfont icon-sq",staticStyle:{color:"orange"}}),t._v(" "+t._s(t.artistsFilter(a.artists))+" - "+t._s(a.album.name)+" ")])]),s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-bofang"})])])})),0)],1):s("ul",{staticClass:"contentTwo"},t._l(t.songS,(function(a,i){return s("li",{key:a.id,class:t.color?"active-color":"",on:{click:function(s){t.toPlay(a.id,a.al.picUrl,a.name,t.artistsFilter(a.ar))}}},[s("div",{staticClass:"sort"},[t._v(t._s(i+1))]),s("div",{staticClass:"left"},[s("h3",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"art"},[s("span",{staticClass:"iconfont icon-sq",staticStyle:{color:"orange"}}),t._v(" "+t._s(t.artistsFilter(a.ar))+" - "+t._s(a.al.name)+" ")])]),t._m(0,!0)])})),0)])},n=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-bofang"})])}],e=(a(4114),a(3518)),l=a(6925),o={props:{Idkey:{type:String,require:!0},active:{type:Boolean,default:!1},must:{type:Boolean,default:!1},songS:{type:Array},color:{type:Boolean,default:!1}},data(){return{loading:!1,finished:!1,num:0,songs:[]}},methods:{...(0,e.PY)(["setCurrentPlayPic"]),...(0,e.i0)("search",["getSearchList"]),artistsFilter(t){return(0,l.tW)(t)},async onLoad(t){const s=await this.getSearchList({key:t,offset:this.num});this.num+=1,this.songs.push(...s.data.result.songs),this.loading=!1},toPlay(t,s,a,i){this.$router.push({path:"/player",query:{id:t}}),this.setCurrentPlayPic({url:s,name:a,ar:i})}}},c=o,r=a(1656),m=(0,r.A)(c,i,n,!1,null,"59a71fb6",null),u=m.exports},7827:function(t,s,a){a.r(s),a.d(s,{default:function(){return v}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"playList"},[s("header",{staticClass:"clearfix"},[s("div",{staticClass:"bg",style:{backgroundImage:`url(${t.playlist.coverImgUrl})`}}),s("div",{staticClass:"content"},[s("div",{staticClass:"imgL"},[s("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}}),s("span",[t._v("歌单")]),s("i",[s("b",{staticClass:"iconfont icon-erji2-xianxing"}),t._v(t._s(t.fomateCount(t.playlist.playCount)))])]),s("div",{staticClass:"text"},[s("div",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),s("div",{staticClass:"creator"},[s("img",{attrs:{src:t.playlist.creator?.avatarUrl,alt:""}}),t._v(" "+t._s(t.playlist.creator?.nickname)+" ")])])])]),s("main",[s("div",{staticClass:"title"},[t._v("歌曲列表")]),s("SongList",{attrs:{songS:t.playlist.tracks,color:!1}}),s("div",{staticClass:"pd",on:{click:t.toDl}},[t._v("查看更多歌曲,请下载客户端")])],1),s("footer",[t.comments.length?s("div",{staticClass:"title"},[t._v("精彩评论")]):t._e(),s("CommentList",{attrs:{comments:t.comments}}),t.newComments.length?s("div",{staticClass:"title"},[t._v("最新评论")]):t._e(),s("CommentList",{attrs:{comments:t.newComments}}),s("div",{staticClass:"moreCt"},[t._v("查看全部"+t._s(t.playlist.commentCount)+"条评论")])],1),s("div",{staticClass:"collect"},[s("span",{on:{click:t.toDl}},[t._v("收藏歌单")])])])},n=[],e=a(3518),l=a(938),o=a(8167),c=a(6925),r={components:{SongList:l.A,CommentList:o.A},data(){return{playlist:{},comments:[],newComments:[]}},created(){this.getPlayList(this.$route.query.id),this.getPlaylistComments(this.$route.query.id)},methods:{...(0,e.i0)("playlist",["getPlaylistDetail","getPlaylistComment"]),async getPlayList(t){const s=await this.getPlaylistDetail(t);this.playlist=s.data.playlist,this.playlist.tracks.splice(0,10)},async getPlaylistComments(t){const s=await this.getPlaylistComment(t);this.comments=s.data.hotComments,s.data.hotComments.length<15&&(this.newComments=s.data.comments.slice(0,15-s.data.hotComments.length))},fomateDate(t,s){return(0,c.pp)(t,s)},fomateCount(t){return t<1e4?t:parseInt(t/1e4)+"万"},toDl(){window.location.assign("https://m.music.163.com/m/applink/?scheme=orpheus%3A%2F%2Fplaylist%2F2037020941%3FevokeChain%3Dos_ios.client_unknow.sessionId_7dabcc1e-a7a9-4e0d-8b2d-9c823a3bad83.id_2037020941.page_mMobilePlaylist.start.ac_playlistMoreSong.type_uvl.actionId_playlistMoreSong-0")}}},m=r,u=a(1656),d=(0,u.A)(m,i,n,!1,null,"4539e69c",null),v=d.exports},6925:function(t,s,a){a.d(s,{MM:function(){return e},pp:function(){return i},tW:function(){return n}});const i=(t,s=!1)=>{if(!t)return!1;const a=new Date(t),i=a.getFullYear(),n=a.getMonth()+1,e=a.getDate();return s?i+"年"+n+"月"+e+"日":n+"月"+e+"日"},n=t=>{let s="";return 1===t.length?t[0].name:(t.forEach(((a,i)=>{i<t.length-1?s+=a.name+" / ":s+=a.name})),s)},e=function(t){const s=/\n/,a=t.split(s);return l(a)};function l(t){const s=/\[\d{2}:\d{2}.\d{2,3}\]/;return t.map(((t,a)=>{if(""===t)return{};const i=t.match(s);if(!i[0])return!1;const n=String(t.split("]")[1]).trim();return{time:i[0]?o(i[0]):"",lyc:n,uid:a+2}}))}function o(t){const s=t.slice(1,t.length-1),a=/.*:/,i=/:.*\./,n=/\..*/,e=parseInt(s.match(a)[0].slice(0,2));let l=parseInt(s.match(i)[0].slice(1,3));const o=parseInt(s.match(n)[0].slice(1));return e&&(l+=60*e),`${l}.${o}`}}}]);
//# sourceMappingURL=827.db13d59c.js.map